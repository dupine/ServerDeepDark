<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>NodeJS WebSocket Server</title>
</head>
<script>

const ws = new WebSocket("ws://10.3.1.21:8080");
ws.addEventListener("open", () =>{
  console.log("We are connected");
});

function inviaMessaggio(){
  let m = document.getElementById("messaggio");
  ws.send(m.value);
}

ws.addEventListener('message', function (event) {
    console.log(event.data);
});

</script>
<body>

  <h1>Chat 5I1</h1>
  <p>
    Messaggio da inviare: <input type="text" id="messaggio">
    <button id="bInvia" onclick="inviaMessaggio()">invia</button>
  </p>
  </p>
    Messaggi arrivati: <span id="mInArrivo"></span>
  </p>

</body>
</html>